package adventCode;

public class Day3 {

	public static void main(String[] args) {
		String[] inputs = { "....#..#.................#..#..", "#..#.#.#..#.###.#..#...#..#....",
				".#....#......#.#.#..##...#...#.", ".............#.#..#........#.#.", "............##.#..#...##.###...",
				".....#..#......#......##.......", "........##........#...........#", "..................#..#.........",
				"......#..#...#..#......###..#..", ".#....#...........#.....#.##...", "..#..#.#........###..#....#...#",
				"..#..##..#..#....#..#......#...", "......#....................#...", ".........#..#..................",
				"..#.#.....#......#.#....#...#..", "..#..........##.......##.##....", "#.......#.##.....#...#....#....",
				"####..............###.#....#...", "....#........#.#..###..#...#..#", "#.#......#...#.##....#.....#...",
				".......#......#.....#........#.", ".##.........#...#.........#....", "............#....#.#........#..",
				"#..##..#....#...#.#....#....#..", ".....#....##..#................", ".#...........#....#..#.....#...",
				"......#.#...#..###.............", "#...#...........#..###.#..#..#.", "...................#..#....#..#",
				"....#...#...#.#.....#....#.##..", ".......#.......#.#.........#...", "#..#.......#...#..#.#......#...",
				"..##...........#....#..#.......", ".#...............#...##........", ".....#..........#............#.",
				"..#.......#.#.#...........#..#.", "........#..#.#.#........#.#.##.", ".###..............#.#..........",
				".#....###.....#......#....#....", "............#.#......#..#....#.", ".#.#.............#........##...",
				".....#..###....##.....#....#..#", ".##....#...#.#.........#......#", "....##.......#...............##",
				"..........##.##.......#........", "......#....##.........##.#.#.#.", "..............#....#..#......#.",
				"......##.........#.........#...", ".#...##...##....##..#..#.....#.", ".#......#.###.#....#...#......#",
				".##.......................#..#.", "....#......#.##..........#.###.", ".#.....##..........#.#.........",
				"....#.#.........#...#..........", ".#..##.#....##.......#.......#.", ".........#.......#............#",
				"###..........#.....##.#....#...", ".......###.#....#........#...##", "..#..#....#.......#.#..........",
				".#..#..........#......#...#....", ".....###.#..#.....#...#..#.....", "........#.#.#..........#.#..#..",
				"........#...##.................", "...#.............#.#..#......##", "......#......##......#...#.#..#",
				".#..#...##..........#...##.....", "..#.#....####..#...#....##....#", ".#..##.........#..##......#....",
				"#....#.#.........#.............", "....###..............#....#....", "....#..#..#...###..#.#..#.#....",
				"....#.....#...........###..#...", "....#.#.....#...#.....#.......#", "..#.......#..................#.",
				"#...................##.........", "....#.#.#.#.#.....#.....#......", "...............##..#..##.#...##",
				"..#.....#.....##.........#..#..", "...#...#.....#..##..##....#..##", "..#.................#....#...#.",
				"#....##...............##..#....", "..#.....#.....##.........##...#", "..#.###..............#...#.....",
				".......................#.......", "#...#..#.....##...#...#........", "..........#......#.###....#...#",
				"..#.....#.##.#..#.#.......#....", "#.##...#............#..........", "#........#.#.#..#...#..#.....##",
				"#............#.#...............", ".#..#.......#.#.....#.#......##", ".#.#....#........#..##.........",
				"..#....#......#.#...##...#.....", "##.....#......................#", "...#.......#..##.....#........#",
				"......##..#...............##...", ".....#...#......##....#.#......", ".#...#....#.#.#........#...#.#.",
				".......#...#...##...#..........", ".##..#..##........##....###.#..", "..##........#........##........",
				"............#....#......#......", ".......#...........#.......#...", "#.#......##.#...#....#.#.....#.",
				"..#.#.#......##........#....#..", "#.#.####.#..#..........#.......", "......................#.#......",
				"...#.......#.....#......#..#.#.", "...#....#....##..........#..##.", "......#......#....#.........#..",
				".........#....#...#.#.........#", ".....#...##.#.#.#......#.....#.", "........#...#......#.#....#....",
				".....#.........#.............#.", ".#...........#.#....##.......#.", ".#..#......#....#....#....#....",
				"#.......#.#.#.#..#.......#.....", "..#...#...#......#.............", ".....#.......#..#.........##..#",
				"#..##...........#.#.........#..", "#..#..........#....#......#...#", "#...#............#....##..#.##.",
				"....#.#..#....#.........##..##.", ".........#..........#.......##.", "#...#........................#.",
				"....#....#..#...........##...#.", ".....###.###.#....#.....#.....#", ".#..###..#...##..........#.....",
				"#..#.....#...#........#........", ".#..##..#......#.....#......##.", "#.....##........#.#..#....#.#..",
				".#....#...#..#...............#.", "..........#.#........#.....#...", "..#.#.....#....#........#.###..",
				"...#..#...#.##.....#..........#", "..#......##....................", ".....#...#....#..#....#.......#",
				"......#............#....#...#..", ".#..#....#.....#........##.....", "...#..#.......#...............#",
				"##.#..#...............#.#..##..", "..#.........#.####.####........", ".........#...#.#........#..###.",
				"..###.....#.........##........#", "#..##.....##.#..........#....##", ".#..#....###..#.....##..#......",
				"#...#..#........#.............#", "#.#....#........#.........#.###", ".....#....#.###.......#........",
				"...........#............#..#...", "..........#.#..##......###....#", "..##....#...........#....#....#",
				"..#...##.#.......#.##.......#..", ".......#......#..........#....#", ".........#..#..............####",
				"#.#...#...#......#...#..#...#.#", ".#.#...#.....#.......#.#..##.#.", "......##..##...#...............",
				"....#....#...##.......#.#......", ".............................#.", "..##...#.......#......#.......#",
				".#.##.##....#......##.......#..", ".......##..#....#.##.#.#.......", "....#.............#......#..#..",
				"...#.........#....#..#.....#.#.", "......#......#......#.........#", "........#..#.#.....#.....#...#.",
				".#.......#.........#...#.......", "#.#.##.....#...#...............", "..#.......##.....#............#",
				".................##.#..#.....##", "........#.###....#.......##.#..", "....#.#..#..#.......#.#....#..#",
				".#..#..#..#...##....#..#.....#.", "...#..#...#..........#........#", "...........##....#...##.#...###",
				".##..#.......##.....##....#....", "...#.#..#..#..##..#.....##.....", ".#.....#..........#...#........",
				".....#..#.#..#.................", "..#.......#..#.....##.......#..", "............##.##.....#...#....",
				"#......#......................#", "...#..........#...#...#..#.....", "......##..............##.##....",
				"................##......#.###..", ".###...#..........#...........#", "#....#...#.........##......#...",
				".............#...............#.", ".###.....#......#...#.......#..", "......##..#.#.#.....#........#.",
				"..#.#..........#.#......##.....", ".#.#...#.#.....#.#..#.....#....", ".......#....#.#....##..........",
				"#.........#........####.#......", "...#..#.....#..............#.#.", "...#..........................#",
				"..##....#..#..........#....#...", "..##.##.#.#.#......#..#........", "...#..#.#.#..#........#.......#",
				".....#.....#..#...#........##..", "..#..#...........#...##..##..#.", "#.....#.....#..#..##........#..",
				"...#..............#......#..#..", "...#.#...........###...#.#.....", "..........................#.#..",
				"....#........#..#..........#.#.", ".#..#..........#.#..........#..", "....#.........#......#.#....#..",
				"..#........#.................#.", "...#......#............#.......", "...#.#...#..##....#........#...",
				"......##.#....#.#......#.......", "........#..........#........#..", "###..#.....#...#......#...###..",
				"..##...#..###............#...#.", "#.......#..#..#............##..", "#........####......#...........",
				"#..#..#...........#.......####.", "......#..##................#...", ".....#..##......#.#...#..#.....",
				"......#.....##.....#.###.......", ".#.....#.........#.......#.#..#", ".##...........###...#....#...#.",
				".#....#..#....#.##...#.........", ".................##............", "......#......#.............#...",
				".........##.#........#....#...#", "..##....#.......#....##.#......", ".......#.#.#.....##..#.#.......",
				"......#.#.#.#......#...#.......", "....##...#.....#..#......#.....", "..............#......#.##......",
				"#.##..###........#.##........##", "#..#.........#.#......#.#......", ".#..###.......#................",
				"..............#...#..##.#.#....", ".....#..#........#...##.#...#..", ".#...##.....#........#..###.#..",
				"....#.....#...#........#.......", "....#.##.....#....#............", "#.#..#....#....#............#..",
				"....#....#...#.#...#...######..", ".##.........#..#.....#.....#...", "..##...............#...........",
				"........##...#........#..#.....", "...#................###.##..##.", ".#..#..#..#...#.............#..",
				"#.....#..##.#....#.#......#..#.", "...#...#...#.....#...#...#.....", "..##.###..#..#...##...........#",
				".#.......##........#.#..#..#...", "..#.......#.###................", "..#...#........##...#..#......#",
				"...#...#............#.#......#.", "..#...#.....#.#.#.#........#...", ".#........#......##....##...#..",
				"...#..##....#.........#....#.#.", "....#........##...............#", ".###.....#...#..#.#.....#.....#",
				"..#...#..................#...##", "#..#....###....................", "...........#...#...........#...",
				"........#.....#................", "#........#...........#........#", "........#..#....#...#....#..#..",
				"#.#....#......#.......##.......", ".#.....##..#...#......#.#.#....", "..#..##.#.....#...#.#......#.#.",
				".##....#...#....#......##......", ".#..#..#...##.##..#.#..#.......", ".....#.#...........#.#........#",
				".#...#....#..................#.", "...........#...#.........#.....", ".#..###........##......#..#...#",
				".............###..##.....#.#..#", ".#..#..........#......#........", "..#........#.#...#.......##.#..",
				"....#...........##......#...#..", "...........#....#.....#...#.#..", "...#...........#.....#.#..#..#.",
				"......#.......#................", "##.......#.....#............#.#", ".##.....#.#.#..................",
				"..........#.....##..#.#.#......", ".###.#.....##...#..#.#........#", "#....#........##..#..#.........",
				".............#.........##..#...", "......##.#...#.#.#....##.......", ".#.......###.#.###..##........#",
				"..##.....#..#.............#..#.", ".#...#......#.#.............#..", "..##.#...#.........##....#...#.",
				"...........#......#.#..........", ".....#..#...##.....#....#..#...", "#...................##...#.....",
				"..#.................#.....#....", "..............#..#.#...###.....", ".......#........#...#.....#....",
				".............#.......#...##..#.", ".#...#..#...#..#.....#......#.#", "....#..#..#...#...........#....",
				".....#..#......##.##....#..#...", "...#......#..#.#...#.....#.....", ".......##..#.#.......#..#....##",
				"#.#..#....##.##.#.#..........#.", "..........#..........#....##.#.", "....#.................#...#..#.",
				"...#.....#..#...#.#...#..#.....", "....#.#..###....#.............#", "#....#..#.#..........#..#..#...",
				"...#..#......#...#...#...#...#.", "##....#.......#..........#.....", "#......#.........#...#.........",
				"##...##.#....#....#..#..#.#....", "....#..#.....#.##.#.......#.#..", "..##....##....#...#..####...#.#",
				"..##..........#.............#..", "..#......#..............#......", "...#......#..#.#...#.......#...",
				".#............#....#...##.##..#", "..##..........#...........#..#.",
				"..#..##..#....#..#.#..#..#..#.." };
		System.out.println(findTrees(inputs, 3, 1));
		System.out.println(findTrees(inputs, 1, 1) * findTrees(inputs, 3, 1) * findTrees(inputs, 5, 1) * findTrees(inputs, 7, 1) * findTrees(inputs, 1, 2));
	}

	public static int findTrees(String[] lines, int slopx, int slopy) {
		int trees = 0;
		int y = slopy;
		int x = 1;
		while (y < lines.length) {
			int mod = lines[y].length();
			int pos = x * slopx;
			if (pos >= mod)
				pos = pos % mod;
			if (lines[y].charAt(pos) == '#') {
				trees++;
			}
			y += slopy;
			x++;
		}
		return trees;
	}
}
